---
- name: Ensure cache directory exists
  ansible.builtin.file:
    path: "{{ k3s_download_cache }}"
    state: directory
    mode: 0755
    owner: root
    group: root

- name: Ensure temporary directory exists
  ansible.builtin.file:
    path: "{{ k3s_download_tmp }}"
    state: directory
    mode: 0755
    owner: root
    group: root

- name: Ensure image directory exists
  ansible.builtin.file:
    path: "{{ k3s_download_image }}"
    state: directory
    mode: 0755
    owner: root
    group: root

### k3s #######################################################################

- name: Download K3S
  ansible.builtin.import_tasks: downloads/k3s.yml

- name: Download Kubectl
  ansible.builtin.import_tasks: downloads/kubectl.yml

- name: Download Helm
  ansible.builtin.import_tasks: downloads/helm.yml

- name: Download Cilium
  ansible.builtin.import_tasks: downloads/cilium.yml

- name: Download Skopeo
  ansible.builtin.import_tasks: downloads/skopeo.yml
